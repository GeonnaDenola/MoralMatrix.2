/* =========================================
   Global Theme
========================================= */
:root{
  --container: 1120px;

  /* fixed left nav widths */
  --left-nav-width: 220px;      /* desktop */
  --left-nav-mobile: 72px;      /* collapsed/mobile */

  /* palette */
  --bg:        #f5f7fb;
  --panel:     #ffffff;
  --panel-2:   #f9fafb;
  --text:      #111827;
  --muted:     #6b7280;
  --border:    #e5e7eb;

  /* brand red */
  --brand:     #b91c1c;
  --brand-2:   #991b1b;

  /* state */
  --success:   #16a34a;
  --warning:   #f59e0b;
  --danger:    #dc2626;

  /* radii & shadows */
  --radius-xl: 18px;
  --radius-lg: 16px;
  --radius:    14px;

  --shadow-xs: 0 3px 8px rgba(17,24,39,.05);
  --shadow-sm: 0 6px 12px rgba(17,24,39,.08);
  --shadow:    0 10px 22px rgba(17,24,39,.10);
  --shadow-lg: 0 18px 40px rgba(17,24,39,.12);
}

/* =========================================
   Base
========================================= */
*,
*::before,
*::after{ box-sizing: border-box; }

html, body{ height: 100%; }

body{
  margin: 0;
  color: var(--text);
  background:
    radial-gradient(900px 420px at 50% -240px, rgba(185,28,28,.08), transparent 60%),
    var(--bg);
  font: 500 15px/1.55 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

img{ max-width: 100%; display: block; }
a{ color: inherit; text-decoration: none; }
p{ margin: 0 0 8px; }
h2, h3{ margin: 0; }
.hidden{ display: none !important; }

.container{
  max-width: var(--container);
  margin-inline: auto;
  padding: 0 16px;
}

/* Keep content clear of fixed left sidebar */
.content-safe{ padding: 16px; }
@media (max-width:1023.98px){
  .content-safe{ padding-left: calc(16px + var(--left-nav-mobile)); }
}
@media (min-width:1024px){
  .content-safe{ padding-left: calc(16px + var(--left-nav-width)); }
}

/* Page title (in-body) */
.page-title{
  font-size: clamp(18px, 2.4vw, 22px);
  font-weight: 800;
  letter-spacing: .2px;
  margin: 6px 0 14px;
}

.muted{ color: var(--muted); }

/* =========================================
   Generic Cards
========================================= */
.card{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  padding: clamp(14px, 2.2vw, 22px);
}
.section-head{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  margin-bottom: 12px;
  flex-wrap: wrap;
}

/* =========================================
   Student Card
========================================= */
.student-card{
  display: grid;
  grid-template-columns: 180px 1fr;
  gap: 18px;
  align-items: center;
  margin-bottom: 8px;
}
@media (max-width:640px){
  .student-card{
    grid-template-columns: 1fr;
    text-align: center;
  }
}
.student-card__media{ display: grid; place-items: center; }

.profile-img{
  width: 160px;
  height: 160px;
  border-radius: 50%;
  object-fit: cover;
  background: #fff;
  border: 4px solid #fee2e2;
  box-shadow: var(--shadow);
}
@media (max-width:640px){
  .profile-img{ width: 140px; height: 140px; }
}
@media (max-width:380px){
  .profile-img{ width: 120px; height: 120px; }
}

.student-name{
  margin: 2px 0 10px;
  font-size: clamp(20px, 3.2vw, 28px);
  line-height: 1.2;
  letter-spacing: .2px;
}

.facts-grid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 10px 16px;
  margin-top: 8px;
}
@media (max-width:420px){
  .facts-grid{ grid-template-columns: repeat(auto-fit, minmax(170px, 1fr)); }
}
.facts-grid p{
  margin: 0;
  padding: 10px 12px;
  background: var(--panel-2);
  border: 1px dashed var(--border);
  border-radius: 12px;
}

/* =========================================
   Community Service Stat
========================================= */
.stat{
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: 16px;
  padding: 18px 20px;
  background: linear-gradient(90deg, rgba(185,28,28,.08), rgba(153,27,27,.06));
  border: 1px solid #fecaca;
  border-radius: 14px;
  margin-bottom: 12px;
}
@media (max-width:640px){
  .stat{ grid-template-columns: 1fr; text-align: center; }
}
.stat__value{
  font-size: clamp(32px, 5vw, 44px);
  font-weight: 900;
  color: var(--brand-2);
  line-height: 1;
  letter-spacing: .2px;
}
.stat__label{ margin-top: 2px; color: var(--muted); font-size: 14px; }

/* =========================================
   Actions
========================================= */
.actions{
  display: flex;
  justify-content: flex-end;
  margin: 0 0 8px;
  gap: 8px;
  flex-wrap: wrap;
}
@media (max-width:640px){
  .actions{ justify-content: stretch; }
  .actions .btn{ width: 100%; justify-content: center; }
}
.btn{
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 11px 18px;
  border-radius: 12px;
  border: 1px solid transparent;
  color: #fff;
  font-weight: 700;
  letter-spacing: .2px;
  min-height: 44px;
  transform: translateY(0);
  transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
}
.btn:focus-visible{
  outline: none;
  box-shadow: 0 0 0 4px rgba(185,28,28,.22);
}
.btn-primary{
  background: linear-gradient(180deg, var(--brand), var(--brand-2));
  box-shadow: 0 10px 22px rgba(185,28,28,.22);
}
.btn-primary:hover{
  transform: translateY(-1px);
  filter: saturate(1.03);
  box-shadow: 0 14px 30px rgba(185,28,28,.26);
}

/* =========================================
   Violation Cards Grid
========================================= */
.cards-grid{
  display: grid;
  gap: 18px;
  grid-template-columns: repeat(3, 1fr);
}
@media (max-width:1100px){
  .cards-grid{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width:640px){
  .cards-grid{ grid-template-columns: 1fr; }
}

/* =========================================
   Violation Card â€“ image top, tidy text
========================================= */
.violation-card{
  display: block;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  overflow: hidden;                          /* rounds the image too */
  transform: translateY(0);
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
  box-shadow: var(--shadow-xs);
}
.violation-card:hover{
  transform: translateY(-3px);
  border-color: #fecaca;
  box-shadow: var(--shadow);
}

/* Top image with consistent aspect ratio */
.violation-card__media{
  background: #f3f4f6;
  aspect-ratio: 16 / 9;
}
@supports not (aspect-ratio: 16 / 9){
  .violation-card__media{ height: 220px; }
}
.violation-card__media img{
  width: 100%;
  height: 100%;
  object-fit: cover;                         /* clean crop */
}

/* Bottom text body */
.violation-card__body{
  background: #fff;
  border-top: 1px solid #f3f4f6;
  padding: 14px 18px 16px;
  display: grid;
  gap: 10px;
  align-content: start;
}

/* Badge row */
.violation-card__body .chip-row{ margin-bottom: 2px; }

/* === Key-Value rows
   Use FLEX so label is tight on the left and the value sits right after it.
   No fixed label width. Long values wrap under themselves (not under the label).
================================================== */
.violation-card__body p{
  margin: 0;
  display: flex;
  align-items: baseline;                     /* "Type:" and value on same baseline */
  gap: 8px;                                  /* small gap between label/value */
  line-height: 1.45;
  word-break: break-word;
  overflow-wrap: anywhere;                   /* break long_tokens_like_this */
}

/* Label */
.violation-card__body p strong{
  flex: 0 0 auto;                            /* keep natural width */
  color: #374151;
  font-weight: 800;
  letter-spacing: .1px;
  white-space: nowrap;                       /* don't wrap the label itself */
  margin-right: 2px;                         /* tiny tuck-in */
}

/* Type row value a bit heavier like your example */
.violation-card .title{ font-size: 15px; font-weight: 700; }

/* Muted tone for date text */
.violation-card__body .muted{ color: var(--muted); }

/* Clamp long descriptions to keep cards even. Adjust lines if you want. */
.violation-card__body .description{
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;                     /* show up to 3 lines */
  overflow: hidden;
}

/* =========================================
   Badges
========================================= */
.badge{
  display: inline-flex;
  align-items: center;
  padding: 5px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: .2px;
  border: 1px solid var(--border);
  box-shadow: 0 1px 0 rgba(0,0,0,.04);
}
.badge-grave, .badge-Grave{
  background: #fee2e2; border-color: #fecaca; color: #7f1d1d;
}
.badge-moderate, .badge-Moderate{
  background: #fef3c7; border-color: #fde68a; color: #78350f;
}
.badge-light, .badge-Light{
  background: #dcfce7; border-color: #bbf7d0; color: #065f46;
}

/* =========================================
   Modal (unchanged behavior, mobile-friendly)
========================================= */
.modal-backdrop{
  position: fixed;
  inset: 0;
  background: rgba(17,24,39,.38);
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  z-index: 40;
  opacity: 0;
  pointer-events: none;
  transition: opacity .2s ease;
}
.modal{
  position: fixed; inset: 0; display: grid; place-items: center;
  z-index: 50; opacity: 0; pointer-events: none;
  transition: opacity .2s ease, transform .2s ease;
}
.modal .modal-content{
  width: min(960px, 92vw);
  max-height: 86vh;
  overflow: auto;
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  padding: 16px;
}
@media (max-width:640px){
  .modal .modal-content{
    width: 98vw;
    max-height: 90vh;
    padding: 14px;
    border-radius: 14px;
  }
}
.modal:not(.hidden),
.modal-backdrop:not(.hidden){ opacity: 1; pointer-events: auto; }

.modal-close{
  position: absolute; top: 14px; right: 14px;
  width: 36px; height: 36px; border-radius: 10px;
  border: 1px solid var(--border);
  background: #f9fafb; color: var(--text);
  font-size: 18px; display: grid; place-items: center;
  cursor: pointer;
  transition: background .15s ease, transform .1s ease, box-shadow .2s ease;
}
.modal-close:hover{ background: #f3f4f6; box-shadow: var(--shadow-xs); }
.modal-close:active{ transform: scale(.98); }

body.modal-open{ overflow: hidden; }
/* Keep short strings (like "Sep 20, 2025 10:55 AM") on one line */
.nowrap{ white-space: nowrap; }

/* =========================================
   Tiny screens micro-tweaks
========================================= */
@media (max-width:360px){
  .card{ padding: 12px; }
  .facts-grid p{ padding: 8px 10px; }
  .actions{ gap: 6px; }
  .btn{ padding: 10px 14px; }
}
